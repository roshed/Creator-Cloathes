<!doctype html>
<html lang="en">
  <head>
    <title>Hello, world!</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  </head>
  <body>
    <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>Clothes Creator</h1>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div id="selectItem">
                        <a href="tshirt" class="clickItem">
                            <img src="img/tshirt.jpg" alt="T-Shirt" height="80"/>
                        </a>
                        <a href="hoodie" class="clickItem">
                            <img src="img/hoodie.jpg" alt="Hoodie" height="80"/>
                        </a>
                    </div>
                </div>
            </div>

            <div class="content">
                <div class="row">
                    <div class="col-md-3" id="leftPanel">

                        <a href="#" class="btn btn-warning btn-lg btn-block" data-toggle="modal" data-target="#price">Cena / Szt</a>
                        
                                            <!-- Modal Cena/ Szt-->
                                            <div id="price" class="modal fade" role="dialog">
                                                <div class="modal-dialog">
                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        <h4 class="modal-title">Cena / Szt</h4>
                                                        </div>
                                                        <div class="modal-body">
                                                        <p>Lorem Ipsum - Cena / Szt</p>
                                                        </div>
                                                        <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                        
                                                <a href="#" class="btn btn-success btn-lg btn-block" data-toggle="modal" data-target="#addToBasket">Dodaj do koszyka</a>
                                                
                                                 <!-- Modal Dodaj do koszyka-->
                                                 <div id="addToBasket" class="modal fade" role="dialog">
                                                    <div class="modal-dialog">
                                                        <!-- Modal content-->
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                            <h4 class="modal-title">Dodaj do koszyka</h4>
                                                            </div>
                                                            <div class="modal-body">
                                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ullamcorper consectetur ligula non tincidunt. Interdum et malesuada fames ac ante ipsum primis in faucibus. Duis id ipsum ex. Fusce pellentesque viverra elit vel commodo.</p>
                                                            <a href="#" class="btn btn-success btn-lg btn-block">Dodaj do koszyka</a>
                                                            </div>
                                                            <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                        
                                                <a href="#" class="btn btn-info btn-lg btn-block" data-toggle="modal" data-target="#priceDeliver">Koszty wysyłki</a>
                                                <!-- Modal Koszty wysylki-->
                                                <div id="priceDeliver" class="modal fade" role="dialog">
                                                        <div class="modal-dialog">
                                                            <!-- Modal content-->
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                                <h4 class="modal-title">Koszty wysyłki</h4>
                                                                </div>
                                                                <div class="modal-body">
                                                                <form>
                                                                    <input type="radio" name="deliver" value="kurierska" checked> Przesyłka ekonomiczna - 8 zł<br>
                                                                    <input type="radio" name="deliver" value="kurierska" checked> Przesyłka kurierska - 13 zł<br>
                                                                    <input type="radio" name="deliver" value="kurierska" checked> Przesyłka kurierska za pobraniem - 20 zł<br>
                                                                </form>
                                                                <a href="#" class="btn btn-info btn-lg btn-block">Wybierz</a>
                                                                </div>
                                                                <div class="modal-footer">
                                                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                        

                    </div>

                    <div class="col-md-5" id="wizardPanel">
                        <div class="product"></div>
                        <div class="wizardPanel"></div>
                        <div class="menage">
                                <a href="#" class="btn btn-danger btn-sm text-btn">Dodaj tekst</a> 
                                <a href="#" class="btn btn-danger btn-sm">Dodaj wzór</a>
                                <a href="#" class="btn btn-danger btn-sm image-btn">Dodaj plik</a>

                                

                        </div>
                                <form method="POST" action="upload.php"><input type="file" id="image" class="btn btn-danger btn-sm" value="Dodaj plik"></form>
                        <div class="rotate">
                                <a href="#" class="front">
                                </a>
                                <a href="#" class="back">
                                </a>
                        </div>
                    </div>

                    <div class="col-md-4">

                            <a href="#" class="btn btn-secondary btn-lg btn-block" data-toggle="modal" data-target="#wzornik">Wzornik kolorów</a>

                                                 <!-- Modal Wzornik kolorów-->
                                                 <div id="wzornik" class="modal fade" role="dialog" >
                                                        <div class="modal-dialog">
                                                            <!-- Modal content-->
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                                <h4 class="modal-title">Wzornik kolorów</h4>
                                                                </div>
                                                                <div class="modal-body">

                                                                </div>
                                                                <div class="modal-footer">
                                                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                            <a href="#" class="btn btn-danger btn-lg btn-block" data-toggle="modal" data-target="#size">Rozmiary</a>

                                                 <!-- Modal Rozmiary-->
                                                 <div id="size" class="modal fade" role="dialog">
                                                        <div class="modal-dialog">
                                                            <!-- Modal content-->
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                                <h4 class="modal-title">Rozmiary</h4>
                                                                </div>
                                                                <div class="modal-body">

                                                                </div>
                                                                <div class="modal-footer">
                                                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                            <a href="#" id="saveProject" class="btn btn-success btn-lg btn-block">Zapisz Projekt</a>

        

                            <div class="text-form">
                                <form class="message-form">
                                    <input type="text" class="message-box"/>
                                    <button type="button" class="message-submit-button">
                                    Dodaj!
                                    </button>
                                </form>
                            </div>
                    </div>
                </div>
            </div>
    </div>

    <div class="lightbox">
        <img src="" class="new-image"/>
    </div>
    

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>  
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js" ></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>
            $('.image-btn').click(function(){
                $('#image').click();
            });
            $(function(){
                $(".product").html('<img src="img/tshirt.jpg" alt="Przód" class="img-responsive link"/>');
                $(".front").html('<img src="img/tshirt.jpg" alt="Przód" class="height-responsive link"/> ');
                $(".back").html('<img src="img/tshirtb.jpg" alt="Tył" class="height-responsive linkb"/> ');
                $('.clickItem').click(function(){
                    var attr = $(this).attr('href');
                    var link = "img/"+attr+".jpg";
                    var linkb = "img/"+attr+"b.jpg";
                    $(".product").html('<img src="'+link+'" alt="Przód" class="img-responsive link"/> ');
                    $(".front").html('<img src="'+link+'" alt="Przód" class="height-responsive link"/> ');
                    $(".back").html('<img src="'+linkb+'" alt="Tył" class="height-responsive linkb"/> ');

                    return false;
                    alert(attr);
                });
                
                $('.back').click(function(){
                     var link = $(".linkb").attr('src');
                    $(".product").html('<img src="'+link+'" alt="Przód" class="img-responsive linkb"/> ');
                    $(this).hide();
                    $('.front').show();
                });
                
                $('.front').click(function(){
                     var link = $(".link").attr('src');
                    $(".product").html('<img src="'+link+'" alt="Przód" class="img-responsive link"/> ');
                    $(this).hide();
                    $('.back').show();
                });
                
            });
            
                function readURL(input) {

                    if (input.files && input.files[0]) {
                        var reader = new FileReader();

                    reader.onload = function(e) {
                    $("#load").attr('src', e.target.result);}

                     reader.readAsDataURL(input.files[0]);};};

                $("#image").change(function() {
                    readURL(this);
                    $('.wizardPanel').prepend('<div class="add-file"><img src="#" id="load" class="added-img"/></div>');
                    
                    $('.add-file')
                        .resizable({containment: "#wizardPanel"})
                        .draggable({ containment: "#wizardPanel", scroll: false, stack: "#wizardPanel div"});
                });


                    
            $(document).ready(function(){
                    $(".text-btn").click(function() {
                        $(".text-form").show();

                        $('.wizardPanel').prepend(
                            '<div id="text-div" class="image-preview"><p class="image-message">Dodaj tekst!</p></div>'
                        );
                    $('.image-preview')
                        .resizable({containment: ".wizardPanel"})
                        .draggable({containment: ".wizardPanel", scroll: false, stack: "#wizardPanel div"});
                    });


                    $('.message-box').keyup(function(){
                        var value = $(this).val();
                        $('.image-message').text(value);
                    }); 

                    $('.message-form').submit(function(e){
                        e.preventDefault;
                        return false;
                    });

                    $('#saveProject').on('click', function(){
                        html2canvas($('#wizardPanel'), {
                            onrendered: function(canvas) {
                                var myImage = canvas.toDataURL('image/jpg');
                        $('.lightbox').fadeIn(200);
                        $('.new-image').attr('src', myImage).fadeIn(200);
                            }
                        });
          
                    
                       
                    });

                    $('.closebox').click(function(){
                        $('.text-form').hide();
                    });
  
            });

        </script>
  </body>
</html>